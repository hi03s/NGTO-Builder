========== ========== ==========

  NGTO Builder 1.12

========== ========== ==========

製作者:hi03
バージョン:1.12
最終更新日:2025/6/8


○概要
ミニチュアブロック(NGTO)を、ラインを引いて連続設置したり回転させて単体設置したりする機能を持った
自動車モデルを追加します

※1.7.10と1.12のNGTOは部分的に互換性がありませんのでご注意ください


○対応バージョン
  RTM1.7.10.44～
　KaizPatchX-1.8.0～
  RTM2.4.24～
  fixRTM-2.0.28～


○使い方

---  共通  ---
・自動車モデルで選択後、設置し、右クリックすると使用開始します。
・NGTOBuilder使用中にQキーもしくは本体を左クリックで編集を終了します。
・もしくはプレイヤーの上に乗ってるブロックを破壊するか、破壊できない場合は一度ワールドを出てもう一度入ってください。
・Lキーで選択ロックを有効/無効にします。ロック中はクリック操作やポイント削除、生成、Qキーによる終了などができなくなります。


---  NGTO Builder ライン設置  ---
ミニチュアブロック(NGTO)はZ軸方向を基準に繰り返し設置されます。
例えば道路を作る場合、+Z方向に伸ばすように設置してからミニチュア化してください。
ミニチュアブロックの代わりに普通のブロックをライン上に設置する機能もあります

-操作-
・右クリックでベジェ曲線のポイントを追加します。
・線路を右クリックすると線路のラインを選択します。
・左クリックで最後に追加したポイントを削除します。
・Cキーですべてのポイントを削除します。
・↑/↓キーで座標指定の高さを変えることができます。
・CTRL+↑/↓キーで設置するNGTOの基準高さを変えることができます。
・Fキーで高さを0に戻します。
・CTRL+Fキーで最後に追加したポイントと同じ高さになるように高さを変えます。
・NGTOを指定したミニチュアブロックを手に持つとプレビューを表示します。
・その状態でEnterキーを押すと生成を開始します。
・普通のブロックを持ってEnterキーを押すとライン上にブロックを生成します。
・CTRL+Zキーで最後に設置したブロックの取り消し(Undo)ができます。
・Iキーで空気ブロック設置のON/OFF切り替えできます(初期状態は空気設置:OFF)
・Oキーで繰り返し設置するかを切り替えられます(初期状態は繰り返し:ON)
・Pキーでマーカーの順序を反転します。
・Uキーでマスク機能ON/OFFの切り替えをします(初期状態はマスク機能:OFF)

-マスク機能-
・マスク機能が有効のときは、インベントリの一番上の段にあるブロックがNGTOによって置き換えられます。
・何もブロックがないときは空気ブロックのみを置き換えるように動作します。

-設定-
・キー割当は描画スクリプトから変更できます(他の人には影響しません)
・カーソルの限界距離は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var cursorMaxDistance = 512;
・生成速度はサーバースクリプトから下記の変数を変えると変更できます(マルチの場合はサーバー側が適用されます)
　var buildLimitPerTick = 500;
　(1tickあたりのブロック設置数 500 blocks/tick は 毎秒10000ブロック設置します)


---  NGTO Builder プロップ設置  ---
ミニチュアブロック(NGTO)を角度をつけて設置することができます。

-操作-
・↑/↓キーで高さを変えることができます。
・←/→キーで角度を変えることができます。
・CTRL+←/→キーで90度向きを変えます。
・Pキーでスナップ角度を変更することができます(デフォルトでは5/15/45/90度)。
・角度は初期設定で15度ずつスナップします。
・Oキーで角度をランダムに変更します(スナップ角度を考慮します)
・NGTOを指定したミニチュアブロックを手に持つとプレビューを表示します。
・その状態でEnterキーを押すと生成を開始します。
・CTRL+Zキーで最後に設置したブロックの取り消し(Undo)ができます。
・Iキーで空気ブロック設置のON/OFF切り替えできます(初期状態は空気設置:OFF)
・Fキーでプレイヤーの方向を向きます。
・Lキーで大型NGTOのプレビューの表示/非表示を切り替えます(初期状態は非表示)

-設定-
・キー割当は描画スクリプトから変更できます(他の人には影響しません)
・カーソルの限界距離は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var cursorMaxDistance = 512;
・回転角度のセットは描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var rotationAngleList = [5, 15, 45, 90];
・デフォルトの回転角度は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var defaultRotationAngle = 15;
・プレビューの設置ブロック描画の上限数は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var renderMaxBlock = 10000;
　このブロック数を超える場合、外枠のブロック部分が表示され、プレビューの表示/非表示の設定が適用されます。
・進捗率の表示頻度を変更することができます(他の人には影響しません)
  var updateProgressTime = 5;
・生成速度はサーバースクリプトから下記の変数を変えると変更できます(マルチの場合はサーバー側が適用されます)
　var buildLimitPerTick = 500;
　(1tickあたりのブロック設置数 500 blocks/tick は 毎秒10000ブロック設置します)


---  NGTO Builder ワイヤー設置  ---
手持ちのワイヤーモデルを設置します。
ホットバーを左から右に検索し、碍子があればそのモデルを使用します。
なければ「モデルなし(端接続)」の碍子を使用します。

-操作-
・右クリックでポイントを追加します。
・CTRL+右クリックで、視線の先にポイントを追加します(KaizPatch/RTM2.4限定)
・左クリックで最後に追加したポイントを削除します。
・Cキーですべてのポイントを削除します。
・↑/↓キーで高さを変えることができます(高さはカーソルを当てている面からの高さです)。
・Fキーで高さを0に戻します。
・ワイヤーアイテムを持ってEnterキーを押すと生成を開始します。
・CTRL+Zキーで最後に設置したブロックの取り消し(Undo)ができます。

-設定-
・キー割当は描画スクリプトから変更できます(他の人には影響しません)
・カーソルの限界距離は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var cursorMaxDistance = 512;


---  NGTO Builder 架線設置  ---
手持ちのワイヤーモデルをレールに合わせて設置します。
ホットバーを左から右に検索し、碍子があればそのモデルを使用します。
なければ「モデルなし(中央接続)」の碍子を使用します。

-操作-
・右クリックでレールを選択します。そこから接続するレールを選択できます。
・CTRL+右クリックで、レールオブジェクト上にポイントを追加します(2点目以降は右クリックのみで追加できます)。
・左クリックで最後に追加したポイント/選択したレールを削除します。
・Cキーですべてのポイントを削除します。
・↑/↓キーで高さを変えることができます。
・←/→キーでレール選択時の架線分割数/架線の長さを変更できます(設置モードによる)。
・Pキーで設置モードを切り替えます(レール等分割モード/架線長等間隔モード)
・ワイヤーアイテムを持ってEnterキーを押すと生成を開始します。
・CTRL+Zキーで最後に設置したブロックの取り消し(Undo)ができます。

-設定-
・キー割当は描画スクリプトから変更できます(他の人には影響しません)
・カーソルの限界距離は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var cursorMaxDistance = 512;


---  NGTO Builder 計測  ---
距離を計測するツールです。

-操作-
・右クリックでポイントを追加します。
・CTRL+右クリックで、最後に追加したポイントの高さを維持したままポイントを追加します。
・左クリックで最後に追加したポイントを削除します。
・Cキーですべてのポイントを削除します。
・Pキーで円の表示/非表示を切り替えます
・Enterキーでワールドに設置します。
・設置された計測ツールを右クリックすると再編集できます。

-設定-
・キー割当は描画スクリプトから変更できます(他の人には影響しません)
・カーソルの限界距離は描画スクリプトから下記の変数を変えると変更できます(他の人には影響しません)
　var cursorMaxDistance = 512;


○モデル一覧
└自動車モデル
　├NGTO Builder ライン設置
　├NGTO Builder 計測
　├NGTO Builder プロップ設置
　├NGTO Builder ワイヤー設置
　└NGTO Builder 架線設置


○免責事項
このRTMパックを使用することにより発生した
いかなる損害についても、製作者は責任を負いません。


○二次配布、改造について
このパックは改造・二次配布については特に制限されていません。
サーバーパック等に同梱して配布することができます。


○商用利用について
書籍や物販により収益の発生を目的とした商用利用は禁止です。
Youtubeやニコニコ動画等の動画に関する収益化については、
このコンテンツを使った動画の収益化は許可されています。


○規約遵守
当パックをダウンロードした時点でReadme及びRealTrainModの規約に従うものとします。


○規約の変更について
Readme及び利用規約はパック製作者やMOD製作者によって変更される場合があります。


○更新履歴
1.12	-共通-
	マルチ環境において、特定のブロックを持ったNGTOを生成するときにクラッシュする問題を修正
	※サーバーにエラーログが残ります

	-プロップ設置-
	巨大建築物のときプレビューを非表示に(Lキーで表示/非表示を切替え)
	時間がかかるときに進捗をチャット欄に表示(5秒毎/jsのupdateProgressTimeで表示頻度を変更可能)


1.11	-共通-
	Lキーで選択操作のロック/ロック解除する機能を追加

	-計測-
	CTRLを押すと直前のポイントと高さを揃える機能を追加
	Pキーで円表示のON/OFFを追加 初期状態はOFF
	角度を表示する機能を追加
	

1.10	-ライン設置-
	マスク機能を実装(Uキー)

	-ワイヤー設置-
	マルチプレイにおいて特定の条件下でクラッシュする不具合を修正・・・できたかも
	架線設置機能を分離
	ラインの描画方法を変更
	CTRL+右クリックの挙動を変更(視線先の座標を追加する)

	-計測-
	ポイントの色を青色に変更
	設置時に本体を半透明化

	-架線設置-
	ツールを追加しました

1.9	-ライン設置-
	何も選択しないでエンターを押すとクラッシュする不具合を修正
	ラインの向きの表示を実装
	Pキーでマーカーの順序の反転を追加
	終端側のアンカーの表示を修正
	普通のブロックをライン上に生成する機能を追加(ブロックを持ってEnter)

	-ワイヤー設置-
	CTRL+右クリックで細かく設置する機能を追加(KaizPatch/RTM2.4限定)
	1.12マルチ環境で既設の碍子を選択し、生成するとクラッシュする不具合を修正

	-計測-
	計測ツールを追加しました。

1.8	-ライン設置-
	1.12でレールスナップが機能しない不具合を修正
	カーソル付近の周囲にある碍子の位置を強調表示
	レールスナップのオフセットを視覚化

1.7	-共通-
	ヘルプ表示を実装

	-ライン設置-
	線路の選択機能を追加(線路に沿って生成が可能)
	Iキーで空気ブロック設置のON/OFFを追加 初期状態はOFF
	繰り返し設置モードをOキーに変更

	-プロップ設置-
	Iキーで空気ブロック設置のON/OFFを追加 初期状態はOFF
	CTRL+←/→で90度角度を変える
	Fキーでプレイヤーの方向を向く

1.61α	ワイヤー設置でレールにカーソルを合わせるとクラッシュする不具合を修正

1.6α	RTM2.4.xに試験的に対応しました
	(もしかしたら不具合があるかもしれません)

1.5	-ワイヤー設置-
	マルチで特定の条件を満たすと高さがリセットされる問題を修正
	高さのリセットを実装(Fキー)
	現在のラインの長さを表示するようにしました
	生成後にラインを消去しないようにしました


1.4	-共通-
	NGTOBuilder使用中にNGTOBuilderを右クリックすると編集を終了するようにしました
	使用時にクライアントとサーバーのバージョンが合っているかをチェックするようにしました
	(サーバーとバージョンが合っていない場合はメッセージが出ます)
	Mohistサーバー環境で、NGTOBuilder使用中にNGTOBuilderを右クリックするとクラッシュするのを修正

	-ワイヤー設置-
	KaizPatchがマルチでクラッシュしないようにしました


1.3	-共通-
	座標の計算方法を修正
	Qキーで編集終了する機能を追加

	-ライン設置-
	ブロックの生成方法が間違っていたのを修正
	NGTOの高さの変更(CTRL+↑↓)を追加
	繰り返しなしモードを追加(Iキー)

	-プロップ設置-
	斜めの補完処理を変更
	マーカー一括削除でオフセットも0になるように変更
	斜め設置時にTileEntityが複数設置されるのを修正(TileEntityのみ補完処理を無効化)
	プレビューの描画位置を修正


1.2	ワイヤー設置を追加
	undoの仕様を変更
	単体設置→プロップ設置に名称変更
	直前の設置の取り消し(Undo)を実装※ドアなどの一部のブロックは復旧不可
	ブロック設置時にレールは破壊しないようにしました
	斜め設置時のブロック補完を強化
	ライン設置でミニチュアを持ってるとき右クリック判定を無視するように変更


α1.1	メモリ消費の最適化

	-ライン設置-
	一括マーカー削除実装
	日本語文字化けを英文に変更
	4点以上のベジェ曲線の生成方法を変更
	ベジェ曲線のアンカーの長さを表示するように

	-プロップ設置-
	向きのランダム化のON/OFF実装
	スナップ角度の変更を実装
	マルチでブロック設置時にMODブロックがクラッシュするのを修正
	はしごとボタンを回転に対応
	※はしごは状況によっては剥がれることがあります


α1.0	リリース


(C) 2023-2024 hi03
Twitter: @hi03_s



